# wpmalwarescanner
<h4>Do NOT use this! It doesn't do what you think it does. It will kill your site/script.</h4>

Work in progress.

This script uses the finfo_open() and finfo_file() functions to check the MIME type of each file, as well as the pathinfo() function and a list of file extensions to identify files that are likely to contain malware. It then searches the contents of each file for common strings that are often used in web malware and attempts to scrub them out by replacing them with an empty string. If the file could not be cleaned, it is added to a list of infected files for you to review.

Note that this script will attempt to clean any infected files that it finds, but it may not be able to completely remove all instances of malware. It is always a good idea to make backups of your files before running any scripts that modify them.

The script is not designed to delete all PHP code from a file. It only looks for specific strings that are commonly used in web malware and attempts to remove them from the file.

For example, the script looks for the <?php opening tag, which is used at the beginning of all PHP scripts. If it finds this tag in a file, it will not delete the entire contents of the file. Instead, it will simply replace the <?php string with an empty string, which will effectively remove the opening PHP tag from the file.

However, it's important to note that this script is just a simple example and may not be sufficient for thoroughly cleaning a WordPress installation from all types of malware. It is always a good idea to use a reputable antivirus or security plugin to scan and clean your WordPress installation, and to keep your WordPress core, themes, and plugins up to date to protect against known vulnerabilities.
